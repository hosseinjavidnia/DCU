<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Lecture 2 | CSC1184</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../theme/theme.css">
</head>
<body class="lecture">

  <div class="wrap wide">
    
    <nav>
      <div class="nav-left">
        <a href="../index.html" class="back-link">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M19 12H5m7-7l-7 7 7 7"></path>
          </svg>
          Back to Course
        </a>
        <span style="color:var(--border)">|</span>
        <h1>Week 2</h1>
      </div>
      <span class="badge-top">Lecture Note</span>
    </nav>

    <div class="lecture-wrap">
      
      <aside class="lecture-sidebar">
        <div class="toc-title">On this page</div>
        <a href="#intro" class="toc-link active">Introduction</a>
        <a href="#file-basics" class="toc-link">1. File Basics</a>
        <a href="#csv-anatomy" class="toc-link">2. CSV Anatomy</a>
        <a href="#manual-parsing" class="toc-link">3. Manual Parsing</a>
        <a href="#dicts-theory" class="toc-link">4. Dictionaries (Theory)</a>
        <a href="#dicts-methods" class="toc-link">5. Dictionary Methods</a>
        <a href="#zip-func" class="toc-link">6. The Zip Function</a>
        <a href="#funcs-theory" class="toc-link">7. Functions (Theory)</a>
        <a href="#funcs-args" class="toc-link">8. Function Arguments</a>
        <a href="#loader-pattern" class="toc-link">9. The Reusable Loader</a>
      </aside>

      <main class="lecture-content">
        
        <header id="intro">
          <h1>Week 2 – Files, Dictionaries &amp; Functions</h1>

          <p class="lede">
            In Week 1, we worked with simple lists. To handle real-world data (like CSV files), we need more powerful tools.
            This week introduces <strong>File I/O</strong> to read data, <strong>Dictionaries</strong> to label that data, 
            and <strong>Functions</strong> to make our logic reusable.
          </p>

          <div class="callout callout-goal">
            <span class="callout-title">By the end of this lecture, you should be able to:</span>
            <ul>
              <li>Open files safely using the <code>with</code> context manager.</li>
              <li>Explain the efficiency difference between Lists (Linear) and Dictionaries (Hash Table).</li>
              <li>Use dictionary methods like <code>get</code>, <code>update</code>, <code>items</code>, and <code>pop</code>.</li>
              <li>Define functions with default, keyword, and variable arguments (<code>*args</code>).</li>
              <li>Combine these tools to parse a CSV file into a list of dictionaries.</li>
            </ul>
          </div>
        </header>

        <h2 id="file-basics">1. File Basics &amp; Safety</h2>
        <p>
          Data lives in files, not variables. To use it, we must open a connection to the file system using the <strong>Context Manager</strong> pattern.
        </p>

        <div class="box box-info">
            <span class="box-title">The "With" Statement</span>
            <p>
                We use the <code>with open(...) as f:</code> syntax. It guarantees the file is closed (returned to the system) even if your code crashes.
            </p>
        </div>

        <pre class="pseudo-block">
with open("data/students.csv", "r", encoding="utf-8") as f:
    # File is open here
    data = f.read()
# File is closed here automatically
        </pre>

        <h2 id="csv-anatomy">2. CSV Anatomy</h2>
        <p>
          CSV stands for <strong>Comma-Separated Values</strong>. It is the lowest common denominator of data storage. Excel, SQL databases, and web APIs can all export to it.
        </p>
        <ul>
            <li><strong>Header Row:</strong> The first line usually contains column names (variables).</li>
            <li><strong>Data Rows:</strong> Subsequent lines contain observations.</li>
            <li><strong>Separator:</strong> Columns are separated by a delimiter, usually a comma <code>,</code>.</li>
        </ul>

        <div class="card">
          <div class="card-head">
            <div class="file-name">students.csv</div>
          </div>
          <div class="card-body">
<pre class="output-box" style="white-space:pre; padding:12px; background:#fff; color:#333;">
id,name,programme,exam_score <span style="color:#999;">&lt;-- Header</span>
1,Ana,CS,55                  <span style="color:#999;">&lt;-- Row 1</span>
2,Bob,CS,62                  <span style="color:#999;">&lt;-- Row 2</span>
</pre>
          </div>
        </div>

        <h2 id="manual-parsing">3. Manual Parsing (The Hard Way)</h2>
        <p>
            A CSV file is just text. Python sees <code>"Ana,CS,55"</code>. If we split this into a list <code>["Ana", "CS", "55"]</code>, we have to remember that index <code>2</code> is the score.
        </p>
        <p>
            This is fragile. If the column order changes, our code breaks. We need a structure that uses <strong>Labels</strong> instead of <strong>Indices</strong>.
        </p>

        <h2 id="dicts-theory">4. Dictionaries (Theory)</h2>
        
        <p>
            A <strong>Dictionary</strong> is a hashed structure of key-value pairs, also known as a mapping type.
          Unlike lists, which use integer indices, dictionaries use <strong>Keys</strong> to access <strong>Values</strong>.
        </p>

        

        <h3>4.1 Comparison: List vs Dictionary</h3>
        <p>
            The fundamental difference lies in how data is stored and accessed.
        </p>
        
        <div class="box box-info">
            <span class="box-title">Data Structure Comparison</span>
            <table style="width:100%; font-size:14px; border-collapse: collapse;">
                <tr style="border-bottom: 1px solid var(--border);">
                    <th style="text-align:left; padding:8px;">Feature</th>
                    <th style="text-align:left; padding:8px;">List <code>[]</code></th>
                    <th style="text-align:left; padding:8px;">Dictionary <code>{}</code></th>
                </tr>
                <tr>
                    <td style="padding:8px; font-weight:600;">Structure</td>
                    <td style="padding:8px;">Collection of index-value pairs</td>
                    <td style="padding:8px;">Hashed structure of key-value pairs</td>
                </tr>
                <tr>
                    <td style="padding:8px; font-weight:600;">Access</td>
                    <td style="padding:8px;">Via Integer Index (0, 1, 2...)</td>
                    <td style="padding:8px;">Via Keys (Strings, Numbers, etc.)</td>
                </tr>
                <tr>
                    <td style="padding:8px; font-weight:600;">Order</td>
                    <td style="padding:8px;">Strictly maintained</td>
                    <td style="padding:8px;">Insertion order (Python 3.6+)</td>
                </tr>
                <tr>
                    <td style="padding:8px; font-weight:600;">Time Complexity</td>
                    <td style="padding:8px;">O(n) - Linear Time</td>
                    <td style="padding:8px;">O(1) - Constant Time</td>
                </tr>
            </table>
        </div>

        <p style="font-size: 14px; color: var(--muted); margin-top: 10px;">
            <em>Note: The "Big-O" notation indicates that dictionary lookups remain fast regardless of size, whereas list lookups get slower as data grows.</em>
        </p>

        <h3>4.2 Creating Dictionaries</h3>
        <p>There are two main ways to create a dictionary:</p>
        <pre class="pseudo-block">
# 1. Using Curly Braces (Literal)
eng2num = {'one': 1, 'two': 2}

# 2. Using the dict() Constructor
eng2num = dict(one=1, two=2)
        </pre>

        <h2 id="dicts-methods">5. Dictionary Methods</h2>
        
        <p>
            Dictionaries have specific built-in methods for accessing, modifying, and looping through data.
        </p>

        <div class="box box-info">
          <span class="box-title">Dictionary operations – what they do (before coding)</span>
          <ul>
            <li><code>get(key)</code> – Returns the corresponding value for the given key. Safer than <code>[]</code>.</li>
            <li><code>update(other)</code> – Updates the dictionary with the key/value pairs.</li>
            <li><code>copy()</code> – Returns a shallow copy of the dictionary.</li>
            <li><code>values()</code> – Returns all the values of the dictionary.</li>
            <li><code>items()</code> – Returns a list of (key, value) tuples.</li>
            <li><code>pop(key)</code> – Removes the item associated with the input key and returns its value.</li>
            <li><code>clear()</code> – Removes all the items in a dictionary.</li>
            <li><code>del dict[key]</code> – Deletes the dictionary item.</li>
            <li><code>key in dict</code> – Checks whether a key exists in a dictionary or not (Boolean).</li>
          </ul>
        </div>

        <section class="card" id="ex-dict-basic">
            <div class="card-head">
              <div class="file-name">Example – Basic Operations (get, update, in)</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
eng2num = {'one': 1, 'two': 2}

# 1. 'in' Operator
print("Is 'one' a key?", 'one' in eng2num)

# 2. get() vs []
print("Value of two:", eng2num.get('two'))
print("Value of missing:", eng2num.get('ten')) # Returns None

# 3. update()
eng2num.update({'three': 3, 'four': 4})
print("After update:", eng2num)
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <section class="card" id="ex-dict-loops">
            <div class="card-head">
              <div class="file-name">Example – Looping (items, keys, values)</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
eng2num = {'one': 1, 'two': 2, 'three': 3}

print("--- Just Keys (Default) ---")
for k in eng2num:
    print(k)

print("\n--- Just Values ---")
for v in eng2num.values():
    print(v)

print("\n--- Items (Key, Value) Tuples ---")
# items() allows us to unpack k, v in one go
for k, v in eng2num.items():
    print(f"Key: {k} -> Val: {v}")
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <section class="card" id="ex-dict-modify">
            <div class="card-head">
              <div class="file-name">Example – Modify (pop, clear, del)</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
data = {'a': 100, 'b': 200, 'c': 300}

# 1. pop() - removes and returns
val = data.pop('b')
print(f"Popped: {val}")
print(f"Remaining: {data}")

# 2. del - just removes (no return)
del data['a']
print(f"After del: {data}")

# 3. clear() - empty everything
data.clear()
print(f"After clear: {data}")
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <h2 id="zip-func">6. The Zip Function</h2>
        <p>
            The <code>zip()</code> function takes one or more iterables (lists, tuples) and returns a zip object of paired tuples. This is the essential bridge between our CSV Header and Data rows.
        </p>

        

        <section class="card" id="ex-zip">
            <div class="card-head">
              <div class="file-name">Example – zip()</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
numbers = [1, 2, 3]
names = ['one', 'two', 'three']

# Create an iterator of tuples
zipped = zip(numbers, names)
print("Zipped object:", list(zipped))

# Convert to dictionary directly
d = dict(zip(names, numbers))
print("As Dict:", d)
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <h2 id="funcs-theory">7. Functions (Theory)</h2>
        <p>
            A function is a block of statements that encapsulates a specific task.
        </p>
        
        <div class="split-row">
            <div class="split-card">
                <h4>Syntax</h4>
                <pre class="pseudo-block" style="margin:0;">
def name(arguments):
    statements
    return value
                </pre>
                <ul style="font-size:14px; margin-top:10px;">
                    <li><strong>def:</strong> Keyword to define function.</li>
                    <li><strong>Header:</strong> Name + Arguments + Colon <code>:</code>.</li>
                    <li><strong>Body:</strong> Indented block of code.</li>
                </ul>
            </div>
            <div class="split-card">
                <h4>Scope</h4>
                <p style="font-size:14px;">
                    <strong>Local Variables:</strong> Defined inside a function body. Accessible only there.
                    <br><br>
                    <strong>Global Variables:</strong> Defined outside function body. Accessible by all functions.
                </p>
            </div>
        </div>

        <p>
            <strong>Functional Decomposition</strong> is the process of breaking down a large task into multiple sub-tasks (smaller functions).
        </p>

        <h2 id="funcs-args">8. Function Arguments</h2>
        <p>
            Python functions support five distinct types of arguments.
        </p>

        <div class="box box-info">
          <span class="box-title">Argument Types – what they do</span>
          <ul>
            <li><strong>Required Arguments:</strong> Must be passed during the function call in precisely the right order.</li>
            <li><strong>Default Arguments:</strong> Have a default value (e.g., <code>b=15</code>). Used if no value is passed.</li>
            <li><strong>Keyword Arguments:</strong> Allow switching the order of inputs by using parameter names (e.g. <code>func(b=10, a=2)</code>).</li>
            <li><strong>*args:</strong> Accepts a variable number of arguments. Accessed as a <strong>Tuple</strong>.</li>
            <li><strong>**kwargs:</strong> Accepts a variable number of keyword arguments. Accessed as a <strong>Dictionary</strong>.</li>
          </ul>
        </div>

        <section class="card" id="ex-func-basics">
            <div class="card-head">
              <div class="file-name">Example – Required, Default &amp; Keyword</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
# b has a default value of 15
def sum_numbers(a, b=15):
    c = a + b
    return c

print("Default:", sum_numbers(2))       # 2 + 15
print("Required:", sum_numbers(2, 10))  # 2 + 10
print("Keyword:", sum_numbers(b=5, a=4)) # 4 + 5
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <section class="card" id="ex-func-variable">
            <div class="card-head">
              <div class="file-name">Example – *args and **kwargs</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
# *args collects extra positional args into a Tuple
# **kwargs collects extra keyword args into a Dict
def versatile_func(*args, **kwargs):
    print("Args (Tuple):", args)
    print("Kwargs (Dict):", kwargs)

# Call with multiple inputs
versatile_func(1, 2, 3, mode="fast", color="red")

# Example using built-in sum() on args
def sum_all(*args):
    return sum(args)

print("Sum:", sum_all(1, 4, 5, 7, 9))
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

        <h2 id="loader-pattern">9. The Reusable Loader</h2>
        <p>
            We now combine everything: File I/O, Dictionaries (via Zip), and Functions (with error handling).
        </p>

        <section class="card" id="ex-final">
            <div class="card-head">
              <div class="file-name">loader.py</div>
              <div class="toolbar">
                <button class="btn btn-primary run">Run ▸</button>
                <button class="btn clear">Clear</button>
                <button class="btn reset">Reset</button>
              </div>
            </div>
            <div class="card-body">
              <div class="lecture-stack">
                <div class="editor-pane">
<textarea class="code" spellcheck="false">
# Simulated CSV File
csv_content = """name,programme,score
Ana,CS,55
Bob,CS,62
BadRow,NoScore
Ciara,DS,71"""

def load_data(raw_text):
    lines = raw_text.splitlines()
    header = lines[0].split(",")
    dataset = [] # Local variable
    
    for line in lines[1:]:
        if not line.strip(): continue
        parts = line.split(",")
        
        # Validation
        if len(parts) != len(header):
            print(f"Skipping bad line: {line}")
            continue
            
        try:
            # 1. Zip to Dict
            row = dict(zip(header, parts))
            # 2. Convert Type
            row['score'] = int(row['score'])
            dataset.append(row)
        except ValueError:
            print(f"Skipping bad math: {line}")
            
    return dataset

# Main execution (Global Scope)
results = load_data(csv_content)
print("\nFinal Results:", results)
</textarea>
                </div>
                <div class="output-pane">
                  <div class="output-label">Terminal Output</div>
                  <pre class="output-box" aria-live="polite"></pre>
                </div>
              </div>
            </div>
            <div class="status"><span class="dot"></span><span class="status-text">Ready</span></div>
        </section>

      </main>
    </div>

    <footer>
      <p class="copyright"></p>
      <div class="legal-notice"></div>
    </footer>

  </div>

  <script src="../theme/footer.js"></script>
  <script src="../theme/legal.js"></script>
  <script src="../engine/engine.js"></script>
  <script>
    // Dictionary Examples
    initPlayground('ex-dict-basic');
    initPlayground('ex-dict-loops');
    initPlayground('ex-dict-modify');
    initPlayground('ex-zip');
    
    // Function Examples
    initPlayground('ex-func-basics');
    initPlayground('ex-func-variable');
    
    // Final Demo
    initPlayground('ex-final');

    applyFooterText();
    applyLegalNotice();
  </script>
</body>
</html>
